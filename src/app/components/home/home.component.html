<ng-container>
  <app-slider></app-slider>
</ng-container>

<div class="content mt-10 text-white">
  @if (loading) {
    <app-skeleton></app-skeleton>
  } @else {

    <div class="flex items-center gap-5 mb-4 ">
      <h2 class="text-3xl">Trending Movies</h2>
      <a class="text-[#dc4666]" [routerLink]="['/movies/']">Explore All</a>
    </div>

    <p-carousel [value]="nowPlaying" [numVisible]="5" [numScroll]="4" [circular]="false"
                [responsiveOptions]="responsiveOptions">
      <ng-template let-movie pTemplate="item">

        <div
          class="relative cursor-pointer bg-[#212121] h-auto m-5 border border-white border-opacity-10 text-white group rounded my-[11px] mx-[5px]"
          [routerLink]="['/movies/', movie.id]">
          <img class="w-full rounded-t-[5px] object-cover"
               src="https://image.tmdb.org/t/p/w370_and_h556_bestv2/{{ movie.backdrop_path }}" alt="poster"/>
          <h6
            class="w-[200px] uppercase font-medium p-2 whitespace-nowrap overflow-ellipsis overflow-hidden">{{ movie?.title }}</h6>
          <p class="text-[12sp] bg-[#0B1A2AF2] py-[1px] px-[7px] rounded m-2 absolute top-0 left-0">
            <span>{{ movie.vote_average }}</span> / 10</p>
          <p class="absolute bg-[#0B1A2AF2] py-[1px] px-[7px] bottom-[41px] m-2  top-auto">
            <span>{{ movie.release_date | date: 'yyyy' }}</span>
          </p>
          <div
            class="group-hover:opacity-100 opacity-0 transition-opacity ease-in-out duration-700 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
            <div class="bg-[#dc4666] py-2 px-4 whitespace-nowrap">Play Now</div>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  }
</div>
